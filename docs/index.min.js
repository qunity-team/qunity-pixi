!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("qunity-pixi"),require("pixi.js")):"function"==typeof define&&define.amd?define(["exports","qunity-pixi","pixi.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["project-sample"]={},t["qunity-pixi"],t.PIXI)}(this,function(t,e,i){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=r(i),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var n,p=(o(h,n=e.Component),h.prototype.start=function(){for(var t=this,e=this.starTexture,i=this.starAmount,r=this.stars=[],a=0;a<i;a++){var o={sprite:new s.default.Sprite(e),z:0,x:0,y:0};o.sprite.anchor.x=.5,o.sprite.anchor.y=.7,this.randomizeStar(o,!0),this.entity.addChild(o.sprite),r.push(o)}setInterval(function(){t.warpSpeed=0<t.warpSpeed?0:.05},5e3)},h.prototype.update=function(t){var e=this.entity.stageSize,i=e.width,r=e.height;this.speed+=(this.warpSpeed-this.speed)/20,this.cameraZ+=10*t*(this.speed+this.baseSpeed);for(var a=0;a<this.starAmount;a++){var o=this.stars[a];o.z<this.cameraZ&&this.randomizeStar(o);var s=o.z-this.cameraZ;o.sprite.x=o.x*(this.fov/s)*i+i/2,o.sprite.y=o.y*(this.fov/s)*i+r/2;var n=o.sprite.x-i/2,p=o.sprite.y-r/2,h=Math.sqrt(n*n+p*p),c=Math.max(0,(2e3-s)/2e3);o.sprite.scale.x=c*this.starBaseSize,o.sprite.scale.y=c*this.starBaseSize+c*this.speed*this.starStretch*h/i,o.sprite.rotation=Math.atan2(p,n)+Math.PI/2}},h.prototype.randomizeStar=function(t,e){t.z=e?2e3*Math.random():this.cameraZ+1e3*Math.random()+2e3;var i=Math.random()*Math.PI*2,r=50*Math.random()+1;t.x=Math.cos(i)*r,t.y=Math.sin(i)*r},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.starAmount=1e3,t.cameraZ=0,t.fov=20,t.baseSpeed=.005,t.speed=0,t.warpSpeed=0,t.starStretch=30,t.starBaseSize=.1,t}var c,u=(o(f,c=e.Component),f.prototype.awake=function(){},f.prototype.start=function(){this.text.text="Hello Qunity"},f.prototype.update=function(t){this.t+=t,this.sprite.alpha=Math.abs(Math.sin(this.t/500))+.2},f);function f(){var t=null!==c&&c.apply(this,arguments)||this;return t.t=0,t}var l=e.createApp();l.registerComponentDefs({"2b6d762d-a7ae-4f54-a21e-18ac13721b03":p,"/scripts/Background":p,"dcc5e287-7c96-436e-9efe-5c163d9e96a7":u,"/scripts/Hello":u}),t.launch=function(){console.log("launch"),l.launch(null,function(t,e){console.log("loading:",t/e)},function(){console.log("launch complete")})},Object.defineProperty(t,"__esModule",{value:!0})});
